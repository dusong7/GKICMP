function showPics2(n) { var t = -n * sHeight; $("#gt-slide-focus2").stop(!0, !1).animate({ top: t }, 300) } $(document).ready(function () { function u(n) { var t = -n * i; $("#gt-slide-focus ul").stop(!0, !1).animate({ left: t }, 300); $("#gt-slide-focus .btn span").stop(!0, !1).animate({ opacity: "0.4" }, 300).eq(n).stop(!0, !1).animate({ opacity: "1" }, 300); $("#gt-slide-focus .btnBg").html($("#gt-slide-focus ul li img").eq(n).attr("alt")) } var i = $("#gt-slide-focus").width(), t, n, e, r, f; for ($("#gt-slide-focus ul li img").css("width", i), t = $("#gt-slide-focus ul li").length, $("#gt-slide-focus ul li").css("width", i), n = 0, r = "<div class='btnBg'>文本标题<\/div><div class='btn'>", f = 0; f < t; f++) r += "<span><\/span>"; r += "<\/div><div class='preNext pre'><\/div><div class='preNext next'><\/div>"; $("#gt-slide-focus").append(r); $("#gt-slide-focus .btn span").css("opacity", .4).mouseover(function () { n = $("#gt-slide-focus .btn span").index(this); u(n) }).eq(0).trigger("mouseover"); $("#gt-slide-focus .preNext").css("opacity", .2).hover(function () { $(this).stop(!0, !1).animate({ opacity: "0.5" }, 300) }, function () { $(this).stop(!0, !1).animate({ opacity: "0.2" }, 300) }); $("#gt-slide-focus .pre").click(function () { n -= 1; n == -1 && (n = t - 1); u(n) }); $("#gt-slide-focus .next").click(function () { n += 1; n == t && (n = 0); u(n) }); $("#gt-slide-focus ul").css("width", i * t); $("#gt-slide-focus").hover(function () { clearInterval(e) }, function () { e = setInterval(function () { u(n); n++; n == t && (n = 0) }, 4e3) }).trigger("mouseleave") }); var sHeight = $("#gt-slide-focus2").height(), len2 = $("#gt-slide-focus2 li").length, index2 = 0; $("#gt-slide-focus2 .preNext2").css("opacity", .2).hover(function () { $(this).stop(!0, !1).animate({ opacity: "0.5" }, 300) }, function () { $(this).stop(!0, !1).animate({ opacity: "0.2" }, 300) }); $(".pre2").click(function () { index2 -= 1; index2 == -1 && (index2 = len2 - 1); showPics2(index2) }); $(".next2").click(function () { index2 += 1; index2 == len2 && (index2 = 0); showPics2(index2) }); $("#gt-slide-focus2").css("height", sHeight * len2); $(".next2").hover(function () { $(this).animate({ backgroundColor: "#CCC" }) })